{"version":3,"sources":["../../src/test/test-params.js"],"names":["setupMakeTestParams","setupBadTest","setupGoodTest","baseParams","makeTestParams","name","url","params","requestParams","baseBadParams","shouldError","badUri","errorMessage","errorName","badDomain","errorAssertions","code","errno","syscall","connectionRefused","notFound","statusCode","withOriginalRequest","requester","request","baseGoodParams","extend","arguments"],"mappings":";;;;;;QAuBgBA,mB,GAAAA,mB;QA2DAC,Y,GAAAA,Y;QAIAC,a,GAAAA,a;;AAlEhB;;;;AACA;;;;;;AArBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKO,SAASF,mBAAT,CAA6BG,UAA7B,EAAyC;AAC9C,SAAO,SAASC,cAAT,CAAwBC,IAAxB,EAA8BC,GAA9B,EAAgD;AAAA,QAAbC,MAAa,uEAAJ,EAAI;;AACrD,WAAO;AACLF,gBADK;AAELG,qBAAeF,GAFV;AAGLC,cAAQ,qBAAOJ,UAAP,EAAmBI,MAAnB;AAHH,KAAP;AAKD,GAND;AAOD;;AAED,IAAME,gBAAgB;AACpBC,eAAa;AADO,CAAtB;;AAIA,IAAMC,SAAS;AACbC,gBAAc,iBADD;AAEbC,aAAW;AAFE,CAAf;AAIA,IAAMC,YAAY;AAChBF,gBAAc,0BADE;AAEhBC,aAAW,OAFK;AAGhBE,mBAAiB;AACfC,UAAM,WADS;AAEfC,WAAO,WAFQ;AAGfC,aAAS;AAHM;AAHD,CAAlB;AASA,IAAMC,oBAAoB;AACxBP,gBAAc,yBADU;AAExBC,aAAW,OAFa;AAGxBE,mBAAiB;AACfC,UAAM,cADS;AAEfC,WAAO,cAFQ;AAGfC,aAAS;AAHM;AAHO,CAA1B;AASA,IAAME,WAAW;AACfC,cAAY;AADG,CAAjB;;AAIA,IAAMC,sBAAsB;AAC1BC,aAAWC;AADe,CAA5B;;AAIA,IAAMC,iBAAiB;AACrBJ,cAAY;AADS,CAAvB;;AAIO,IAAMd,0BAAS;AACpBE,8BADoB;AAEpBgB,gCAFoB;;AAIpBX,sBAJoB;AAKpBH,gBALoB;AAMpBQ,sCANoB;AAOpBC,oBAPoB;AAQpBE;AARoB,CAAf;;AAWA,SAASrB,YAAT,GAAwB;AAC7B,SAAOD,oBAAoB0B,kCAAOjB,aAAP,oCAAyBkB,SAAzB,GAApB,CAAP;AACD;;AAEM,SAASzB,aAAT,GAAyB;AAC9B,SAAOF,oBAAoB0B,kCAAOD,cAAP,oCAA0BE,SAA1B,GAApB,CAAP;AACD","file":"test-params.js","sourcesContent":["// Copyright (c) 2016 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport extend from 'xtend';\nimport request from 'request';\n\nexport function setupMakeTestParams(baseParams) {\n  return function makeTestParams(name, url, params = {}) {\n    return {\n      name,\n      requestParams: url,\n      params: extend(baseParams, params)\n    };\n  };\n}\n\nconst baseBadParams = {\n  shouldError: true\n};\n\nconst badUri = {\n  errorMessage: 'Invalid URI \"/\"',\n  errorName: 'Error'\n};\nconst badDomain = {\n  errorMessage: /^getaddrinfo ENOTFOUND\\b/,\n  errorName: 'Error',\n  errorAssertions: {\n    code: 'ENOTFOUND',\n    errno: 'ENOTFOUND',\n    syscall: 'getaddrinfo'\n  }\n};\nconst connectionRefused = {\n  errorMessage: /^connect ECONNREFUSED\\b/,\n  errorName: 'Error',\n  errorAssertions: {\n    code: 'ECONNREFUSED',\n    errno: 'ECONNREFUSED',\n    syscall: 'connect'\n  }\n};\nconst notFound = {\n  statusCode: 404\n};\n\nconst withOriginalRequest = {\n  requester: request\n};\n\nconst baseGoodParams = {\n  statusCode: 200\n};\n\nexport const params = {\n  baseBadParams,\n  baseGoodParams,\n\n  badDomain,\n  badUri,\n  connectionRefused,\n  notFound,\n  withOriginalRequest\n};\n\nexport function setupBadTest() {\n  return setupMakeTestParams(extend(baseBadParams, ...arguments));\n}\n\nexport function setupGoodTest() {\n  return setupMakeTestParams(extend(baseGoodParams, ...arguments));\n}\n"]}